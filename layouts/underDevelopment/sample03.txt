title Larger System
description Several small layouts connected by one large loop

max trains 10
lockahead distance 10 count 4

# gen cabs 1-2 cars 2-10 every 10 speed 7-16


#
# Main loop
#
start: str * 19
out1: str

crvl * 4

in1: str
str
east3: str
str

crvl
out2: crvl
crvl * 2

str * 20

crvl
out3: crvl
crvl * 2

str * 4


crvl
out4: crvl
crvl * 2


#
# Center yard
#

new
$start.out
crvl
str
s1: str
crvr
str * 7
# semaphore
h1: str
crvl
str * 5
crvr
str * 2

new 
$s1.out
s2: str
crvr
str * 7
# semaphore
str
crvl


new 
$s2.out
s3: str
crvr
str * 7
# semaphore
str
crvl

new 
$s3.out
s4: str
crvr
str * 7
# semaphore
str
crvl

#
# right set
#

new
$h1.out
str
h2: str
crvl
str * 5
crvr
str3
tunnel
str
str
str3
tunnel
str * 4
crvr18 * 10
str * 4
on1: str


flex connect $on1.out $east3.in

#
#  Small layout 1
#

new
$out1.out

str * 2
x1_1: str
crvr18 * 8
str * 2

new 
x1_2: str
str * 8
> $in1.in

cross connect $x1_1  $x1_2

