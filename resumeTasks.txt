# Resume Tasks - Layouts Feature Implementation

## Status: COMPLETE

### What Was Implemented

1. **Bundled Layouts System**
   - Layouts stored in `src/layouts/` directory
   - Imported directly into JavaScript bundle using Vite's `?raw` suffix
   - No runtime fetch() calls - works reliably in Tauri

2. **Example Layouts Included**
   - `two-loops.txt` - Several loops with generator and bin
   - `complex-layout.txt` - Multiple loops, switches, tunnels, splice
   - `flex-connect.txt` - Demonstrates flex connect
   - `splice.txt` - Demonstrates splice statement
   - `cross-connect.txt` - Demonstrates cross connect
   - `semaphore.txt` - Manual signal control example

3. **Layouts Dialog UI**
   - "Layouts" button in toolbar
   - Modal dialog with list of bundled layouts
   - Shows title and description (not filename)
   - Three buttons: Run, Save As..., Cancel
   - Keyboard support (Escape to close)
   - Click outside to close

4. **Functionality**
   - Run: Loads and runs the selected layout
   - Save As: Saves layout to user-chosen location
   - Cancel: Closes the dialog

### Files Created
- `src/layouts/manifest.json` - Layout metadata
- `src/layouts/*.txt` - Example layout files
- `src/vite-env.d.ts` - TypeScript declarations for raw imports

### Files Modified
- `index.html` - Added Layouts button and dialog HTML
- `src/style.css` - Added dialog styles
- `src/main.ts` - Added dialog logic with bundled imports
- `src-tauri/tauri.conf.json` - Added save dialog and writeFile permissions

### Key Implementation Details
- Layouts are imported at build time, not fetched at runtime
- This avoids issues with Tauri's asset serving
- The manifest and layout content are embedded in the JS bundle

### How to Add New Bundled Layouts
1. Add the layout file to `src/layouts/`
2. Add an entry to `src/layouts/manifest.json`
3. Add an import statement in `src/main.ts`
4. Add the file to the `bundledLayouts` map in `src/main.ts`
5. Rebuild the app
